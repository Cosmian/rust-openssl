# rust-openssl

[![crates.io](https://img.shields.io/crates/v/openssl.svg)](https://crates.io/crates/openssl)

OpenSSL bindings for the Rust programming language.

[Documentation](https://docs.rs/openssl).

## Release Support

The current supported release of `openssl` is 0.10 and `openssl-sys` is 0.9.

New major versions will be published at most once per year. After a new
release, the previous major version will be partially supported with bug
fixes for 3 months, after which support will be dropped entirely.

### Contribution

Unless you explicitly state otherwise, any contribution intentionally
submitted for inclusion in the work by you, as defined in the Apache-2.0
license, shall be dual licensed under the terms of both the Apache License,
Version 2.0 and the MIT license without any additional terms or conditions.


# Local installation for OpenSSL 3.1.0
You can use `setup.sh` bash script to automatically install OpenSSL version 3.1.0. You must be aware that the environment variable `OPENSSL_DIR` is exported in this script, so you need to re-export it or use preloading variables upon running such as `OPENSSL_DIR=/PATH/TO/YOUR/OPENSSL/LOCAL/INSTALL/ cargo run` if it no longer exists.

Please notice that exporting `OPENSSL_CONF` variable overrides your default configuration path if you have a native OpenSSL installed: all calls from your native OpenSSL will look for your newly defined `OPENSSL_CONF`.


# Configuring OpenSSL
One last step must be done manually to be able to load the FIPS module. The local installation must be told which non-default FIPS module to use. To do so, you can enable FIPS usage for all applications using the non-default OpenSSL configuration file freshly installed. Edit your `$OPENSSL_DIR/ssl/openssl.cnf` file to contain the following data and change `.include /PATH/TO/YOUR/OPENSSL/LOCAL/INSTALL/ssl/fipsmodule.cnf` accordingly.

```
# For FIPS
# Optionally include a file that is generated by the OpenSSL fipsinstall
# application. This file contains configuration data required by the OpenSSL
# fips provider. It contains a named section e.g. [fips_sect] which is
# referenced from the [provider_sect] below.
# Refer to the OpenSSL security policy for more information.
.include /PATH/TO/YOUR/OPENSSL/LOCAL/INSTALL/ssl/fipsmodule.cnf

[ openssl_init ]
providers = provider_sect

# List of providers to load
[ provider_sect ]
# The fips section name should match the section name inside the
# included fipsmodule.cnf.
fips = fips_sect
base = base_sect

[ base_sect ]
activate = 1
```
